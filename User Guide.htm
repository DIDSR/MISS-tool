
<!-- saved from url=(0074)file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">

<meta name="Generator" content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:DengXian;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:"DengXian Light";}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:"\@DengXian Light";}
@font-face
	{font-family:"\@DengXian";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#1F3763;
	font-weight:normal;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;
	font-style:italic;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:11.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:22.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:33.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Calibri Light",sans-serif;
	color:#1F3763;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-style:italic;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang="EN-US" link="#0563C1" vlink="#954F72" style="word-wrap:break-word">

<div class="WordSection1">

<p class="MsoTocHeading" align="center" style="text-align:center"><b><span style="font-family:&quot;Times New Roman&quot;,serif">Medical Image Segmentation
Synthesis (MISS) Tool User Guide</span></b></p>

<p class="MsoNormal">&nbsp;</p>

<p class="MsoTocHeading">Contents</p>

<p class="MsoToc1"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695820">Introduction<span style="color:windowtext;
display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">1</span></a></p>

<p class="MsoToc2"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695821">Version (last update): <b>xx/xx/2024</b><span style="color:windowtext;display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">2</span></a></p>

<p class="MsoToc1"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695822">The Use of GUI<span style="color:
windowtext;display:none;text-decoration:none"> </span><span style="color:windowtext;display:none;text-decoration:none">2</span></a></p>

<p class="MsoToc2"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695823">Main options<span style="color:windowtext;
display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">2</span></a></p>

<p class="MsoToc2"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695824">Metrics for user's truth and
segmentation<span style="color:windowtext;display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">3</span></a></p>

<p class="MsoToc3"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695825">Load data<span style="color:windowtext;
display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">3</span></a></p>

<p class="MsoToc3"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695826">Result<span style="color:windowtext;
display:none;text-decoration:none"> </span><span style="color:windowtext;display:none;text-decoration:none">4</span></a></p>

<p class="MsoToc3"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695827">Other options<span style="color:windowtext;
display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">5</span></a></p>

<p class="MsoToc2"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695828">Segmentation synthesis<span style="color:windowtext;display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">6</span></a></p>

<p class="MsoToc3"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695829">Load data<span style="color:windowtext;
display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">6</span></a></p>

<p class="MsoToc3"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695830">Add spiculations<span style="color:windowtext;display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">8</span></a></p>

<p class="MsoToc3"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695831">Change contour by Fourier Descriptor<span style="color:windowtext;display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">9</span></a></p>

<p class="MsoToc3"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695832">Affine transformation<span style="color:windowtext;display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">10</span></a></p>

<p class="MsoToc1"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695833">The Use of Command (Code)<span style="color:windowtext;display:none;text-decoration:none"> </span><span style="color:windowtext;display:none;text-decoration:none">12</span></a></p>

<p class="MsoToc2"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695834">Main functions<span style="color:
windowtext;display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">12</span></a></p>

<p class="MsoToc3"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695835">Function for segmentation evaluation
metrics: <b>seg_measures</b><span style="color:windowtext;display:none;
text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">12</span></a></p>

<p class="MsoToc3"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695836">Functions for segmentation synthesis<span style="color:windowtext;display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">13</span></a></p>

<p class="MsoToc4"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695837">Add spiculations: <b>mod_spike</b><span style="color:windowtext;display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">13</span></a></p>

<p class="MsoToc4"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695838">Change contour by Fourier Descriptor:
<b>mod_fourier</b><span style="color:windowtext;display:none;text-decoration:
none">. </span><span style="color:windowtext;display:none;text-decoration:none">13</span></a></p>

<p class="MsoToc4"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695839">Affine transformation: <b>mod_affine</b><span style="color:windowtext;display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">14</span></a></p>

<p class="MsoToc2"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695840">Example of segmentation evaluation<span style="color:windowtext;display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">14</span></a></p>

<p class="MsoToc2"><a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Toc155695841">Example of segmentation synthesis<span style="color:windowtext;display:none;text-decoration:none">. </span><span style="color:windowtext;display:none;text-decoration:none">15</span></a></p>

<p class="MsoNormal">&nbsp;</p>

<span style="font-size:11.0pt;line-height:107%;font-family:&quot;Calibri&quot;,sans-serif"><br clear="all" style="page-break-before:always">
</span>

<p class="MsoNormal">&nbsp;</p>

<h1><a name="_Toc155695820">Introduction</a></h1>

<p class="MsoNormal">This <a name="_Hlk155629748">medical image segmentation
synthesis (MISS) tool </a>can emulate segmentations by adjusting the (truth)
masks input by users. The MISS tool also provides the segmentation evaluation
results of 24 metrics, including the Dice coefficient, Jaccard index (IoU),
Medical Similarity Index (MSI), and several distance-based metrics to show the
change between the truth and synthesis segmentations.</p>

<p class="MsoNormal">There are two ways to use the MISS tool: through its GUI or Command
(Code) models. The GUI is for directly seeing the synthesis results and tunning
synthesis parameters. The Command model is for processing images in batches.
The Command model also provides the maximum flexibility for users to deploy the
MISS tool to fulfill their various requirements in applications.</p>

<p class="MsoNormal">This user guide covers the usage of the two models and shows
some technical details for developing this tool. This guide also serves as the
help model in the MISS tool.</p>

<h2><a name="_Toc155695821">Version (last update): </a><b><span style="color:#4472C4">xx/xx/2024</span></b></h2>

<h1 id="main-opt"><a name="_Toc155695822">The Use of the GUI</a></h1>

<p class="MsoNormal">The GUI contains two options: </p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Segmentation performance evaluation for user’s inputs (a truth
and a segmentation result)</p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Image segmentation synthesis (a truth mask input by user)</p>

<p class="MsoNormal"><span style="font-family:Consolas;color:#4472C4">To start
the GUI, open the file “main_option.mlapp” and run it in MATLAB.</span></p>

<h2><a name="_Toc155695823">Main options</a></h2>

<p class="MsoNormal">When you start running the MISS tool MATLAB-GUI, you will
see the main options window.</p>

<p class="MsoNormal"><img width="190" height="148" id="Picture 2" src="./User Guide_files/image001.jpg"></p>

<p class="MsoNormal">If you have truth masks and segmentation results and want to
calculate segmentation evaluation metrics of them, select <b>1: Metrics for
user's truth and segmentation</b>.</p>

<p class="MsoNormal">If you have truth masks and want to generate synthetic segmentations
by adjusting the truth masks, select <b>2: <a name="_Hlk150160364">Segmentation
synthesis</a></b>.</p>

<p class="MsoNormal">When you select any one of the options, a new window will be
shown, and this main option window will be closed. Don’t worry, there is a
“Mode Change” button on the new window for going back to this window.</p>

<h2><a name="_Hlk149648453"></a><a name="_Toc155695824">Metrics for user's
truth and segmentation</a></h2>

<h3><a name="_Toc155695825">Load data</a></h3>

<p class="MsoNormal"><img width="489" height="340" id="Picture 1" src="./User Guide_files/image002.jpg"></p>

<p class="MsoNormal">After clicking the “Metrics for user's truth and
segmentation” on the main options window, you will see the window for <b>Metrics
Mode</b>. </p>

<p class="MsoNormal"><b>“Mode Change” button</b> on the new window is for going
back to the main options window.</p>

<p class="MsoNormal">First, you click the “<b>Input Segmentation</b>” and “<b>Input
Truth</b>” button in turn to input a segmentation and truth mask. The order
does not matter. </p>

<p class="MsoNormal"><span style="font-family:Consolas;color:#4472C4">The
supported image formats are: '*.jpg; *.tif; *.png; *.gif'. The image should have
only one object (connected component) as the segmentation or truth mask. The
image will be converted to binary image, of which “1” stands for the object
(foreground) and “0” stands for the background.</span></p>

<p class="MsoNormal"><span style="font-family:Consolas;color:#4472C4">&nbsp;</span></p>

<p class="MsoNormal"><img width="135" height="134" id="Picture 3" src="./User Guide_files/image003.png"></p>

<p class="MsoNormal">After inputting an image, the file name of the image will
show below the input button.</p>

<p class="MsoNormal">When both segmentation and truth mask have been uploaded, the
metrics values and images will display automatically.</p>

<h3><a name="_Toc155695826">Result</a></h3>

<p class="MsoNormal">The values of 24 metrics show in the “Comparison” frame. On
the <b>Segmentation Viewer</b>, truth mask shows in filled blue area, and the
segmentation shows in the green contour.</p>

<p class="MsoNormal"><span style="font-family:Consolas;color:#C00000">Note: by default,
the calculations of Hausdorff Distance (HD) and Average Hausdorff Distance
(AVD) metrics are off due to a slow processing. If you want to include the two
metrics, check the <a name="_Hlk149651320">“Compute Hausdorff Distances (Slow)”
</a>box under the “Comparison” frame.</span></p>

<p class="MsoNormal"><span style="font-family:Consolas;color:#C00000">&nbsp;</span></p>

<p class="MsoNormal"><img width="487" height="338" id="Picture 4" src="./User Guide_files/image004.jpg"></p>

<p class="MsoNormal">The values of 24 metrics auto-save in the “<b>Workspace</b>”
of MATLAB, it is a MATLAB <b><i>struct</i></b> value named “<b>metrics_value</b>”.</p>

<p class="MsoNormal"><img width="193" height="53" id="Picture 9" src="./User Guide_files/image005.jpg"></p>

<p class="MsoNormal"><img width="241" height="317" id="Picture 10" src="./User Guide_files/image006.jpg"></p>

<p class="MsoNormal">More details of these metrics are in the “<a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Function_for_segmentation">Functions of segmentation evaluation metrics</a>”
section.</p>

<h3><a name="_Toc155695827"></a><a name="_Other_options"></a>Other options</h3>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>“Compute Hausdorff Distances (Slow)” check box</b>: on/off the
calculations of Hausdorff Distance (HD) and Average Hausdorff Distance (AVD)
metrics.</p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="153" height="58" id="Picture 5" src="./User Guide_files/image007.jpg">&nbsp;<span style="font-family:
Wingdings">ßà</span> <img border="0" width="153" height="57" id="Picture 6" src="./User Guide_files/image008.jpg"></p>

<p class="MsoListParagraphCxSpMiddle">&nbsp;</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>“Fill contour” check box</b>: on/off filling the area of
segmentation. If checked the truth mask shows in filled red area, and the
segmentation shows in filled blue area with green contour. Their overlapping
area shows in purple. </p>

<p class="MsoListParagraphCxSpLast"><img border="0" width="188" height="193" id="Picture 7" src="./User Guide_files/image009.jpg">&nbsp;<span style="font-family:
Wingdings">ßà</span> <img border="0" width="189" height="195" id="Picture 8" src="./User Guide_files/image010.jpg"></p>

<p class="MsoNormal">&nbsp;</p>

<h2><a name="_Toc155695828">Segmentation synthesis</a></h2>

<h3><a name="_Toc155695829">Load data</a></h3>

<p class="MsoNormal"><img border="0" width="471" height="325" id="Picture 13" src="./User Guide_files/image011.jpg"></p>

<p class="MsoNormal">After clicking the “Segmentation synthesis” on the main
options window, you will see the window for <b>Synthesis Mode</b>. </p>

<p class="MsoNormal"><b>“Mode Change” button</b> on the new window is for going
back to the main options window.</p>

<p class="MsoNormal">First, you click the “<b>Load Image</b>” button (the blue
arrow on above picture) to input a truth mask. </p>

<p class="MsoNormal"><span style="font-family:Consolas;color:#4472C4">The
supported image formats are: '*.jpg; *.tif; *.png; *.gif'. The image should
have only one object (connected component) as the segmentation or truth mask.
The image will be converted to binary image, of which “1” stands for the object
(foreground) and “0” stands for the background.</span></p>

<p class="MsoNormal"><img border="0" width="464" height="325" id="Picture 12" src="./User Guide_files/image012.jpg"></p>

<p class="MsoNormal">After inputting a mask, the metrics values and images will display
automatically. On the <b>Segmentation Viewer</b>, truth mask shows in filled
blue area, and the modified (synthetic) segmentation shows in the green
contour. The values of 24 metrics show in the “Comparison” frame. They are
calculated by using the synthetic segmentation and the truth mask. Without any
modification, the synthetic segmentation is identical to the truth mask. </p>

<p class="MsoNormal"><span style="font-family:Consolas;color:#C00000">Note: by
default, the calculations of Hausdorff Distance (HD) and Average Hausdorff
Distance (AVD) metrics are off due to a slow processing. If you want to include
the two metrics, check the “Compute Hausdorff Distances (Slow)” box under the “Comparison”
frame.</span></p>

<p class="MsoNormal">For details of the “Compute Hausdorff Distances (Slow)”
check box and “Fill contour” check box, please see in the <a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Other_options">“Other options” section</a>.</p>

<p class="MsoNormal">In the Synthesis Mode, our tool provides several methods to
modify the input truth mask and to generate various synthetic segmentations;
they are:</p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Add spiculations – <b>“Spiculation” button</b></p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="109" height="109" id="Picture 14" src="./User Guide_files/image013.jpg">&nbsp;<span style="font-family:
Wingdings">à</span> <img border="0" width="110" height="109" id="Picture 15" src="./User Guide_files/image014.jpg"></p>

<p class="MsoListParagraphCxSpMiddle">&nbsp;</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Contour change by Fourier Descriptor – <b>“Fourier” button</b></p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="109" height="109" id="Picture 18" src="./User Guide_files/image013.jpg">&nbsp;<span style="font-family:
Wingdings">à</span> <img border="0" width="111" height="109" id="Picture 16" src="./User Guide_files/image015.jpg"></p>

<p class="MsoListParagraphCxSpMiddle">&nbsp;</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Affine transformation – <b>“Affine” button</b></p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="109" height="109" id="Picture 19" src="./User Guide_files/image013.jpg">&nbsp;<span style="font-family:
Wingdings">à</span> <img border="0" width="109" height="109" id="Picture 17" src="./User Guide_files/image016.jpg"></p>

<p class="MsoListParagraphCxSpLast">&nbsp;</p>

<p class="MsoNormal">Each method provides several parameters for tuning to generate
different synthetic segmentations. These methods can be applied to masks
individually or combinedly to create more different synthetic segmentations. The
following sections show guides of how to use these functions in our tool. For more
details of these methods, please see in the “<a href="file:///C:/Users/Shuyue.Guan/OneDrive%20-%20FDA/Documents/User%20Guide.htm#_Functions_for_segmentation">Functions of segmentation synthesis</a>”
section.</p>

<h3><a name="_Toc155695830">Add spiculations</a></h3>

<p class="MsoNormal"><img border="0" width="309" height="193" id="Picture 20" src="./User Guide_files/image017.jpg"></p>

<p class="MsoNormal">After clicking the “Spiculation”, you will see the window
for adding<b> </b>spiculations.</p>

<p class="MsoNormal"><b><u><span style="color:#0070C0">Parameters</span></u></b></p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><a name="_Hlk155529742"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Center</b>: location to put the spiculation, it is an angle value
ranging from 0 to 359 degree (360 = 0 degree).</a></p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Height</b>:<b> </b>the height of the spiculation, the number
of pixels.</p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Width</b>: the width of the spiculation, the number of pixels.</p>

<p class="MsoNormal" style="margin-left:.25in">For technical details of these
parameters, please see in the “<b><i>2.3 Spiculations</i></b>” section of the
paper: </p>

<p class="MsoNormal" style="margin-left:.25in"><span style="font-size:10.0pt;
line-height:107%;font-family:&quot;Arial&quot;,sans-serif;color:#222222;background:white">Guan,
S., Samala, R. K., Arab, A., &amp; Chen, W. (2023, April). MISS-tool: medical
image segmentation synthesis tool to emulate segmentation errors. In&nbsp;<i>Medical
Imaging 2023: Computer-Aided Diagnosis</i>&nbsp;(Vol. 12465, pp. 273-281).
SPIE. </span><a href="https://doi.org/10.1117/12.2653650"><span style="font-size:10.0pt;line-height:107%;font-family:&quot;Arial&quot;,sans-serif;
background:white">https://doi.org/10.1117/12.2653650</span></a><span style="font-size:10.0pt;line-height:107%;font-family:&quot;Arial&quot;,sans-serif;
color:#222222;background:white"> </span></p>

<p class="MsoNormal"><b><u><span style="color:#0070C0">Operations</span></u></b></p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Close</b>: close the window.</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Apply to original</b>: add the spiculation to the input mask.
This operation will reset the mask that has been modified by other methods
before adding a spiculation.</p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Apply to current</b>: add the spiculation to the current mask.
This operation is to add a spiculation to a mask that has been modified by
other methods (or to add multiple spiculations to a mask). In other words, besides
adding a spiculation, all modifications made before will be kept.</p>

<p class="MsoNormal">After clicking the “Apply to original” or “Apply to current”,
the result will show on the Segmentation Viewer. Here we show an example of:</p>

<p class="MsoNormal"><b>Center</b>: 270 (degree)</p>

<p class="MsoNormal"><b>Height</b>: 20 (pixels)</p>

<p class="MsoNormal"><b>Width</b>: 6 (pixels)</p>

<p class="MsoNormal"><b>Apply to original.</b></p>

<p class="MsoNormal"><img border="0" width="109" height="109" id="Picture 22" src="./User Guide_files/image013.jpg">&nbsp;<span style="font-family:Wingdings">à</span>
<img border="0" width="109" height="109" id="Picture 21" src="./User Guide_files/image018.jpg"></p>

<h3><a name="_Toc155695831">Change contour by Fourier Descriptor</a></h3>

<p class="MsoNormal"><img border="0" width="319" height="176" id="Picture 23" src="./User Guide_files/image019.jpg"></p>

<p class="MsoNormal">After clicking the “Fourier”, you will see the window for changing
contour by Fourier Descriptor method.</p>

<p class="MsoNormal"><b><u><span style="color:#0070C0">Parameters</span></u></b></p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><a name="_Hlk155548020"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Detail</b>: the<b> </b>number of<b> </b>Fourier Descriptors to
be not set to zero; the larger value the more detail of the contour
(high-frequency components) will be kept; ranging from 1 to the half total
number of Fourier Descriptors (pixels on the contour).</a></p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Range</b>:<b> </b>the<b> </b>number of<b> </b>Fourier
Descriptors to be modified; ranging from 0 to (<i>Detail value</i> – 1); the
larger value the greater change is applied to the contour.</p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Magnitude</b>: the magnitude of modification to the Fourier
Descriptors to be changed according to the <i>Range</i>; the larger value the
greater change is applied to the contour.</p>

<p class="MsoNormal" style="margin-left:.25in">For technical details of these
parameters, please see in the “<b><i>2.4 Fourier Descriptor</i></b>” section of
the paper: </p>

<p class="MsoNormal" style="margin-left:.25in"><span style="font-size:10.0pt;
line-height:107%;font-family:&quot;Arial&quot;,sans-serif;color:#222222;background:white">Guan,
S., Samala, R. K., Arab, A., &amp; Chen, W. (2023, April). MISS-tool: medical
image segmentation synthesis tool to emulate segmentation errors. In&nbsp;<i>Medical
Imaging 2023: Computer-Aided Diagnosis</i>&nbsp;(Vol. 12465, pp. 273-281).
SPIE. </span><a href="https://doi.org/10.1117/12.2653650"><span style="font-size:10.0pt;line-height:107%;font-family:&quot;Arial&quot;,sans-serif;
background:white">https://doi.org/10.1117/12.2653650</span></a><span style="font-size:10.0pt;line-height:107%;font-family:&quot;Arial&quot;,sans-serif;
color:#222222;background:white"> </span></p>

<p class="MsoNormal"><b><u><span style="color:#0070C0">Operations</span></u></b></p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Close</b>: close the window.</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Apply to original</b>: change contour of the input mask. This
operation will reset the mask that has been modified by other methods before changing
its contour.</p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Apply to current</b>: change contour of the current mask. This
operation is to change contour of the mask that has been modified by other methods.
In other words, besides changing contour by the Fourier Descriptor method, all
modifications made before will be kept.</p>

<p class="MsoNormal"><span style="font-family:Consolas;color:#C00000">Note: due
to the method of change includes random seeds, for each time running the “Apply
to original” or “Apply to current”, the result is different.</span> <span style="font-family:Consolas;color:#C00000">For more details about the
randomness, please see in the “Functions of segmentation synthesis” section.</span></p>

<p class="MsoNormal">After clicking the “Apply to original” or “Apply to current”,
the result will show on the Segmentation Viewer. Here we show an example of:</p>

<p class="MsoNormal"><b>Detail</b>: 20</p>

<p class="MsoNormal"><b>Range</b>: 12</p>

<p class="MsoNormal"><b>Magnitude</b>: 6</p>

<p class="MsoNormal"><b>Apply to original.</b></p>

<p class="MsoNormal"><img border="0" width="109" height="109" id="Picture 24" src="./User Guide_files/image013.jpg">&nbsp;<span style="font-family:Wingdings">à</span>
<img border="0" width="111" height="111" id="Picture 11" src="./User Guide_files/image020.jpg"></p>

<h3><a name="_Toc155695832">Affine transformation</a></h3>

<p class="MsoNormal"><img border="0" width="259" height="149" id="Picture 25" src="./User Guide_files/image021.jpg"></p>

<p class="MsoNormal">After clicking the “Affine”, you will see the window for Affine
transformation.</p>

<p class="MsoNormal"><b><u><span style="color:#0070C0">Parameters</span></u></b></p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><a name="_Hlk155550261"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Resize</b>: the ratio of size change on x-axis (vertical) and
y-axis (horizontal). Here we show an example for x = 1.5, y=2 applying to
original mask, without other changes (Rotation=0 and Shift = (0,0)):</a></p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="109" height="109" id="Picture 26" src="./User Guide_files/image013.jpg"><b>&nbsp;</b><span style="font-family:Wingdings">à</span> <img border="0" width="109" height="111" id="Picture 29" src="./User Guide_files/image022.jpg"></p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Rotation</b>:<b> </b>the degree of<b> </b>rotation by the
center of the mask. Here we show an example for the value = 90 applying to
original mask, without other changes (Resize=(1,1) and Shift = (0,0)):</p>

<p class="MsoListParagraphCxSpMiddle"><img border="0" width="109" height="109" id="Picture 27" src="./User Guide_files/image013.jpg"><b>&nbsp;</b><span style="font-family:Wingdings">à</span> <img border="0" width="111" height="111" id="Picture 30" src="./User Guide_files/image023.jpg"></p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Shift</b>: moving the mask by its center with the vector (X,
Y), the number of pixels. Here we show an example for the value = (20, 10) applying
to original mask, without other changes (Resize=(1,1) and Rotation=0):</p>

<p class="MsoListParagraphCxSpLast"><img border="0" width="109" height="109" id="Picture 28" src="./User Guide_files/image013.jpg"><b>&nbsp;</b><span style="font-family:Wingdings">à</span> <img border="0" width="111" height="111" id="Picture 31" src="./User Guide_files/image024.jpg"></p>

<p class="MsoNormal" style="margin-left:.25in">For technical details of these parameters,
please see in the “<b><i>2.1 Affine Transformation</i></b>” section of the
paper: </p>

<p class="MsoNormal" style="margin-left:.25in"><span style="font-size:10.0pt;
line-height:107%;font-family:&quot;Arial&quot;,sans-serif;color:#222222;background:white">Guan,
S., Samala, R. K., Arab, A., &amp; Chen, W. (2023, April). MISS-tool: medical
image segmentation synthesis tool to emulate segmentation errors. In&nbsp;<i>Medical
Imaging 2023: Computer-Aided Diagnosis</i>&nbsp;(Vol. 12465, pp. 273-281).
SPIE. </span><a href="https://doi.org/10.1117/12.2653650"><span style="font-size:10.0pt;line-height:107%;font-family:&quot;Arial&quot;,sans-serif;
background:white">https://doi.org/10.1117/12.2653650</span></a><span style="font-size:10.0pt;line-height:107%;font-family:&quot;Arial&quot;,sans-serif;
color:#222222;background:white"> </span></p>

<p class="MsoNormal"><b><u><span style="color:#0070C0">Operations</span></u></b></p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Close</b>: close the window.</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Apply to original</b>: change contour of the input mask. This
operation will reset the mask that has been modified by other methods before changing
its contour.</p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Apply to current</b>: change contour of the current mask. This
operation is to change contour of the mask that has been modified by other
methods. In other words, besides changing contour by Affine transformations,
all modifications made before will be kept.</p>

<p class="MsoNormal">After clicking the “Apply to original” or “Apply to current”,
the result will show on the Segmentation Viewer. </p>

<p class="MsoNormal">&nbsp;</p>

<h1><a name="_Toc155695833">The Use of Command (Code)</a></h1>

<p class="MsoNormal">Similar to the GUI, the Command model has two parts:</p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Segmentation performance evaluation for user’s inputs (truth and
segmentation results)</p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Image segmentation synthesis (truth masks provided by user)</p>

<h2><a name="_Toc155695834">Main functions</a></h2>

<h3><a name="_Toc155695835"></a><a name="_Function_for_segmentation"></a>Function
for segmentation evaluation metrics: <b>seg_measures</b></h3>

<p class="MsoNormal">This function is used for segmentation performance
evaluation of user’s inputs (truth masks and segmentation results)</p>

<p class="MsoNormal"><b><u>Usage</u><span style="color:#0070C0">: </span></b><b><span style="font-family:Consolas;color:#0070C0">idx = seg_measures(<i>img1</i>, <i>img2</i>)</span></b></p>

<p class="MsoNormal"><b><u>Input</u></b>: Two binary images {0, 1}, same size</p>

<p class="MsoNormal"><b><u>Output</u></b>: A <b>struct data</b> includes 24
indexes of segmentation evaluation metrics</p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in">1.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>DICE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Dice
Coefficient</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">2.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>JAC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Jaccard
Coefficient</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">3.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MSI&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Medical
Similarity Index</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">4.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>FN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; False
Negative (Confusion matrix)</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">5.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>FP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; False
Positive (Confusion matrix)</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">6.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>TN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; True
Negative (Confusion matrix)</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">7.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>TP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; True
Positive (Confusion matrix)</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">8.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>TPR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sensitivity
(Recall, true positive rate)</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">9.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>TNR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specificity
(true negative rate)</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">10.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span>FPR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Fallout
(false positive rate)</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">11.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span>PPV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Precision
(also called positive predictive value) </p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">12.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span>ACC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Accuracy</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">13.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span>AUC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Area under
ROC Curve (one system state)</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">14.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span>KAP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Cohen Kappa</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">15.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span>ARI&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Adjusted
Rand Index</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">16.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span>ICC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Interclass
Correlation</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">17.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span>VS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Volumetric
Similarity Coefficient</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">18.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span>MI&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Mutual
Information</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">19.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span>VOI&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Variation
of Information</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">20.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span>PBD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Probabilistic
Distance</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">21.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span>GCE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Global
Consistency Error</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">22.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span>HD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Hausdorff
Distance (optionally in voxel or millimeter)</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in">23.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span>AVD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Average
Hausdorff Distance (optionally in voxel or millimeter)</p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in">24.<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp; </span>MHD&nbsp;&nbsp;&nbsp;&nbsp; Mahanabolis
Distance</p>

<p class="MsoNormal" style="margin-left:.25in">For example, <span style="font-family:Consolas;color:#0070C0">idx.DICE</span><span style="color:#0070C0"> </span>is the Dice Coefficient of <i>img1</i> and <i>img2</i>.</p>

<h3><a name="_Toc155695836"></a><a name="_Functions_for_segmentation"></a>Functions
for <a name="_Hlk155528241">segmentation synthesis</a></h3>

<p class="MsoNormal">Inputs of the functions for segmentation synthesis are the
image containing a mask to be modified and several parameters. The image is the
key input to these functions, and it should include <b>only one area (connected
component)</b> as the segmentation/mask to be modified. And the output from a function
(modified mask) can be seen as the synthetic segmentation.</p>

<h4><a name="_Toc155695837">Add spiculations: <b>mod_spike</b></a></h4>

<p class="MsoNormal">This function is used to add spiculations to the mask of
user’s input.</p>

<p class="MsoNormal"><b><u>Usage</u><span style="color:#0070C0">: </span></b><b><span style="font-family:Consolas;color:#0070C0">syn = mod_spike(<a name="_Hlk155529663"><i>img, center, height, width</i></a>)</span></b></p>

<p class="MsoNormal"><b><u>Input</u></b>: </p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style="color:#0070C0">img</span></i>: a binary image {0,
1}</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style="color:#0070C0">center</span></i>: location to put
the spiculation, it is an angle value ranging from 0 to 359 degree (360 = 0
degree).</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style="color:#0070C0">height</span></i>: the height of
the spiculation, the number of pixels.</p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style="color:#0070C0">width</span></i>: the width of the
spiculation, the number of pixels.</p>

<p class="MsoNormal">For technical details of these parameters, please see in the
“<b><i>2.3 Spiculations</i></b>” section of the paper: </p>

<p class="MsoNormal" style="margin-left:.25in"><span style="font-size:10.0pt;
line-height:107%;font-family:&quot;Arial&quot;,sans-serif;color:#222222;background:white">Guan,
S., Samala, R. K., Arab, A., &amp; Chen, W. (2023, April). MISS-tool: medical
image segmentation synthesis tool to emulate segmentation errors. In&nbsp;<i>Medical
Imaging 2023: Computer-Aided Diagnosis</i>&nbsp;(Vol. 12465, pp. 273-281).
SPIE. </span><a href="https://doi.org/10.1117/12.2653650"><span style="font-size:10.0pt;line-height:107%;font-family:&quot;Arial&quot;,sans-serif;
background:white">https://doi.org/10.1117/12.2653650</span></a><span style="font-size:10.0pt;line-height:107%;font-family:&quot;Arial&quot;,sans-serif;
color:#222222;background:white"> </span></p>

<p class="MsoNormal"><b><u>Output</u></b>: A binary image includes the modified
mask (synthetic segmentation) with an added spiculation, same size as the input
image. </p>

<p class="MsoNormal"><span style="font-family:Consolas;color:#C00000">Note: Running
this function is to add one spiculation to the input mask at a time. To add more
spiculations to a mask needs to run the function multiple times.</span></p>

<h4><a name="_Toc155695838">Change contour by Fourier Descriptor: <b>mod_fourier</b></a></h4>

<p class="MsoNormal">This function is used to change the mask contour of user’s
input using Fourier Descriptors.</p>

<p class="MsoNormal"><b><u>Usage</u><span style="color:#0070C0">: </span></b><b><span style="font-family:Consolas;color:#0070C0">syn = mod_fourier(<i>img, detail,
range, magnitude</i>)</span></b></p>

<p class="MsoNormal"><b><u>Input</u></b>: </p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style="color:#0070C0">img</span></i>: a binary image {0,
1}</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style="color:#0070C0">detail</span></i>: the number of
Fourier Descriptors to be not set to zero; the larger value the more detail of
the contour (high-frequency components) will be kept; ranging from 1 to the
half total number of Fourier Descriptors (pixels on the contour).</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style="color:#0070C0">range</span></i>: the number of
Fourier Descriptors to be modified; ranging from 0 to (Detail value – 1); the
larger value the greater change is applied to the contour.</p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style="color:#0070C0">magnitude</span></i>: the
magnitude of modification to the Fourier Descriptors to be changed according to
the Range; the larger value the greater change is applied to the contour.</p>

<p class="MsoNormal"><a name="_Hlk155629250">For technical details of these
parameters, please see in the “<b><i>2.4 Fourier Descriptor</i></b>” section of
the paper: </a></p>

<p class="MsoNormal" style="margin-left:.25in"><span style="font-size:10.0pt;
line-height:107%;font-family:&quot;Arial&quot;,sans-serif;color:#222222;background:white">Guan,
S., Samala, R. K., Arab, A., &amp; Chen, W. (2023, April). MISS-tool: medical
image segmentation synthesis tool to emulate segmentation errors. In&nbsp;<i>Medical
Imaging 2023: Computer-Aided Diagnosis</i>&nbsp;(Vol. 12465, pp. 273-281).
SPIE. <a name="_Hlk155548325"></a></span><a href="https://doi.org/10.1117/12.2653650"><span style="font-size:10.0pt;
line-height:107%;font-family:&quot;Arial&quot;,sans-serif;background:white">https://doi.org/10.1117/12.2653650</span></a><span style="font-size:10.0pt;line-height:107%;font-family:&quot;Arial&quot;,sans-serif;
color:#222222;background:white"> </span></p>

<p class="MsoNormal"><b><u>Output</u></b>: A binary image includes the modified
mask (synthetic segmentation) by changing the Fourier Descriptors of the mask,
same size as the input image. </p>

<p class="MsoNormal"><span style="font-family:Consolas;color:#C00000">Note: due
to the method of change includes random seeds, for each time running the function,
the result could be different.</span> <span style="font-family:Consolas;
color:#C00000">For more details about the randomness, please see in the “2.4
Fourier Descriptor” section of the paper (https://doi.org/10.1117/12.2653650).</span></p>

<h4><a name="_Toc155695839">Affine transformation: <b>mod_affine</b></a></h4>

<p class="MsoNormal">This function is used to change the mask of user’s input
using affine transformations, which includes: resizing (changing the height and
width ratio), shifting, and rotation.</p>

<p class="MsoNormal"><b><u>Usage</u><span style="color:#0070C0">: </span></b><b><span style="font-family:Consolas;color:#0070C0">syn = mod_affine(<i>img, resize,
rotate, shift</i>)</span></b></p>

<p class="MsoNormal"><b><u>Input</u></b>: </p>

<p class="MsoListParagraphCxSpFirst" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style="color:#0070C0">img</span></i>: a binary image {0,
1}</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style="color:#0070C0">resize</span></i>: the ratio of
size change on x-axis (vertical) and y-axis (horizontal). Input format: <i><span style="color:#0070C0">[rx, ry]</span></i>.</p>

<p class="MsoListParagraphCxSpMiddle" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style="color:#0070C0">rotation</span></i>: the degree of
rotation by the center of the mask; it is an angle value ranging from 0 to 359
degree (360 = 0 degree).</p>

<p class="MsoListParagraphCxSpLast" style="text-indent:-.25in"><span style="font-family:Symbol">·<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style="color:#0070C0">shift</span></i>: moving the mask
by its center with the vector (X, Y), the number of pixels. Input format: <i><span style="color:#0070C0">[sx, sy]</span></i>.</p>

<p class="MsoNormal"><a name="_Hlk155629347">For technical details of these
parameters, please see in the “<b><i>2.1 Affine Transformation</i></b>” section
of the paper: </a></p>

<p class="MsoNormal" style="margin-left:.25in"><span style="font-size:10.0pt;
line-height:107%;font-family:&quot;Arial&quot;,sans-serif;color:#222222;background:white">Guan,
S., Samala, R. K., Arab, A., &amp; Chen, W. (2023, April). MISS-tool: medical
image segmentation synthesis tool to emulate segmentation errors. In&nbsp;<i>Medical
Imaging 2023: Computer-Aided Diagnosis</i>&nbsp;(Vol. 12465, pp. 273-281).
SPIE. </span><a href="https://doi.org/10.1117/12.2653650"><span style="font-size:10.0pt;line-height:107%;font-family:&quot;Arial&quot;,sans-serif;
background:white">https://doi.org/10.1117/12.2653650</span></a><span style="font-size:10.0pt;line-height:107%;font-family:&quot;Arial&quot;,sans-serif;
color:#222222;background:white"> </span></p>

<p class="MsoNormal"><b><u>Output</u></b>: A binary image includes the modified
mask (synthetic segmentation) by using affine transformations, same size as the
input image. </p>

<p class="MsoNormal"><span style="font-family:Consolas;color:#C00000">Note: the
“resize” and “shift” are dual-value parameters requiring two values for input; the
format is like: [x, y].</span></p>

<h2><a name="_Toc155695840">Example of segmentation evaluation</a></h2>

<p class="MsoNormal">Here we show an example for calculating the 24 metrics of segmentation
images. One truth mask and 10 segmentation images need to be evaluated. In the
same folder of the MATLAB code, the file name of truth mask is “<i>TruthMask.png</i>”,
and the file name of the<i> i</i>-th segmentation image is “<i>Segmentation_i.png</i>”.</p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:Consolas;
color:#538135">truth_img = imread(<a name="_Hlk155628076">TruthMask.png</a>);</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:Consolas;
color:#538135">M={};</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:Consolas;
color:#538135">for i= 1: 10&nbsp;&nbsp;&nbsp; </span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:Consolas;
color:#538135">&nbsp;&nbsp;&nbsp; seg_i = imread(['Segmentation_',</span> <span style="font-family:Consolas;color:#538135">num2str(i), '.png']);&nbsp;&nbsp;&nbsp; </span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:Consolas;
color:#538135">&nbsp;&nbsp;&nbsp; M{i} = <b>seg_measures</b>(truth_img, seg_i);</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:Consolas;
color:#538135">end</span></p>

<p class="MsoNormal">The result <span style="font-family:Consolas;color:#0070C0">M{}</span><span style="color:#0070C0"> </span>is a cell includes 10 struct data. For example, <span style="font-family:Consolas;color:#0070C0">M{6}.DICE</span><span style="color:#0070C0"> </span>is the Dice Coefficient of “<i>TruthMask.png”</i>
and “<i>Segmentation_6.png”</i>.</p>

<h2><a name="_Toc155695841">Example of segmentation synthesis</a></h2>

<p class="MsoNormal">Here we show an example to generate 100 synthetic
segmentation images (changing contour by <a name="_Hlk155628552">Fourier
Descriptor</a>) from a truth mask, and then evaluate them by comparing with the
truth mask. In the same folder of the MATLAB code, the file name of truth mask
is “<i>TruthMask.png</i>”.</p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:Consolas;
color:#538135">truth_img = imread('TruthMask.png');</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:Consolas;
color:#7F7F7F">% modify the mask by Fourier Descriptor; it contains randomness</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:Consolas;
color:#538135">detail&nbsp; = 5; </span><span style="font-family:Consolas;
color:#7F7F7F">% &lt; total pixels</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:Consolas;
color:#538135">range = 3; </span><span style="font-family:Consolas;color:#7F7F7F">%
&lt;= detail</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:Consolas;
color:#538135">magnitude = 10; </span><span style="font-family:Consolas;
color:#7F7F7F">% &gt;=0</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:Consolas;
color:#538135">M={};</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:Consolas;
color:#538135">for k = 1:100</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:.5in"><span style="font-family:Consolas;color:#538135">syn_img = <b>mod_fourier</b>(truth_img,
detail, range, magnitude);</span></p>

<p class="MsoNormal" style="margin-left:.5in;text-indent:.5in"><span style="font-family:Consolas;color:#538135">M{k} = <b>seg_measures</b>(truth_img,
syn_img);</span></p>

<p class="MsoNormal" style="margin-left:.5in"><span style="font-family:Consolas;
color:#538135">end</span></p>

<p class="MsoNormal">The result <span style="font-family:Consolas;color:#0070C0">M{}</span><span style="color:#0070C0"> </span>is a cell includes 100 struct data. For example, <span style="font-family:Consolas;color:#0070C0">M{i}.DICE</span><span style="color:#0070C0"> </span>is the Dice Coefficient between the truth mask
and the <i>i</i>-th synthetic segmentation image.</p>

<p class="MsoNormal">&nbsp;</p>

</div>




</body></html>