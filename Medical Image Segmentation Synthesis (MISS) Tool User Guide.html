<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:DengXian;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:"DengXian Light";}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:"\@DengXian Light";}
@font-face
	{font-family:"\@DengXian";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#1F3763;
	font-weight:normal;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;
	font-style:italic;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:11.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:22.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:33.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{mso-style-link:"Comment Text Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"Header Char";
	margin:0in;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"Footer Char";
	margin:0in;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{mso-style-link:"Comment Subject Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	font-weight:bold;}
span.MsoPlaceholderText
	{color:gray;}
p.MsoRMPane, li.MsoRMPane, div.MsoRMPane
	{margin:0in;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Calibri Light",sans-serif;
	color:#1F3763;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-style:italic;}
p.paragraph, li.paragraph, div.paragraph
	{mso-style-name:paragraph;
	margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
span.normaltextrun
	{mso-style-name:normaltextrun;}
span.CommentTextChar
	{mso-style-name:"Comment Text Char";
	mso-style-link:"Comment Text";}
span.CommentSubjectChar
	{mso-style-name:"Comment Subject Char";
	mso-style-link:"Comment Subject";
	font-weight:bold;}
span.HeaderChar
	{mso-style-name:"Header Char";
	mso-style-link:Header;}
span.FooterChar
	{mso-style-name:"Footer Char";
	mso-style-link:Footer;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
 /* Page Definitions */
 @page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link="#0563C1" vlink="#954F72" style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoTocHeading align=center style='text-align:center'><b><span
style='font-family:"Times New Roman",serif'>Medical Image Segmentation
Synthesis (MISS) Tool User Guide</span></b></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoTocHeading>Contents</p>

<p class=MsoToc1><a href="#_Toc172809443">Introduction<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>3</span></a></p>

<p class=MsoToc2><a href="#_Toc172809444">Version (last update): <b>7/25/2024</b><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>3</span></a></p>

<p class=MsoToc1><a href="#_Toc172809445">The Use of GUI<span style='color:
windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>3</span></a></p>

<p class=MsoToc2><a href="#_Toc172809446">Main options<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>3</span></a></p>

<p class=MsoToc2><a href="#_Toc172809447">Metrics for user's truth and
segmentation<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>4</span></a></p>

<p class=MsoToc3><a href="#_Toc172809448">Single comparison<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>4</span></a></p>

<p class=MsoToc4><a href="#_Toc172809449">Load data<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>4</span></a></p>

<p class=MsoToc4><a href="#_Toc172809450">To view result<span style='color:
windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>5</span></a></p>

<p class=MsoToc4><a href="#_Toc172809451">Results output<span style='color:
windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>6</span></a></p>

<p class=MsoToc3><a href="#_Toc172809452">Other options<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>6</span></a></p>

<p class=MsoToc3><a href="#_Toc172809453">Many comparisons at once<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>7</span></a></p>

<p class=MsoToc4><a href="#_Toc172809454">Load data<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>7</span></a></p>

<p class=MsoToc4><a href="#_Toc172809455">Results output<span style='color:
windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>7</span></a></p>

<p class=MsoToc4><a href="#_Toc172809456">Advanced comparing mode<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>8</span></a></p>

<p class=MsoToc2><a href="#_Toc172809457">Segmentation synthesis<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>9</span></a></p>

<p class=MsoToc3><a href="#_Toc172809458">Load data<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>9</span></a></p>

<p class=MsoToc3><a href="#_Toc172809459">Synthesis Tools<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>10</span></a></p>

<p class=MsoToc4><a href="#_Toc172809460">Add spiculations<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>11</span></a></p>

<p class=MsoToc4><a href="#_Toc172809461">Change contour by Fourier Descriptor<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>13</span></a></p>

<p class=MsoToc4><a href="#_Toc172809462">Affine transformation<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>14</span></a></p>

<p class=MsoToc3><a href="#_Toc172809463">Results Output<span style='color:
windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>16</span></a></p>

<p class=MsoToc3><a href="#_Toc172809464">Batch Processing<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>16</span></a></p>

<p class=MsoToc4><a href="#_Toc172809465">Parameters<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>17</span></a></p>

<p class=MsoToc4><a href="#_Toc172809466">Editing operations for modification
plan<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>17</span></a></p>

<p class=MsoToc4><a href="#_Toc172809467">Applying modifications to mask(s)<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>20</span></a></p>

<p class=MsoToc4><a href="#_Toc172809468">Save &amp; load modifications plan<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>21</span></a></p>

<p class=MsoToc1><a href="#_Toc172809469">The Use of Command (Code)<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>22</span></a></p>

<p class=MsoToc2><a href="#_Toc172809470">Main functions<span style='color:
windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>22</span></a></p>

<p class=MsoToc3><a href="#_Toc172809471">Function for segmentation evaluation
metrics: <b>seg_measures</b><span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>22</span></a></p>

<p class=MsoToc3><a href="#_Toc172809472">Functions for segmentation synthesis<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>23</span></a></p>

<p class=MsoToc4><a href="#_Toc172809473">Add spiculations: <b>mod_spike</b><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>23</span></a></p>

<p class=MsoToc4><a href="#_Toc172809474">Change contour by Fourier Descriptor:
<b>mod_fourier</b><span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>23</span></a></p>

<p class=MsoToc4><a href="#_Toc172809475">Affine transformation: <b>mod_affine</b><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>24</span></a></p>

<p class=MsoToc1><a href="#_Toc172809476">An example of segmentation evaluation<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>25</span></a></p>

<p class=MsoToc2><a href="#_Toc172809477">Implement by GUI<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>25</span></a></p>

<p class=MsoToc2><a href="#_Toc172809478">Implement by Command (Code)<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>26</span></a></p>

<p class=MsoToc1><a href="#_Toc172809479">An example of segmentation synthesis<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>26</span></a></p>

<p class=MsoToc2><a href="#_Toc172809480">Implement by GUI<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>26</span></a></p>

<p class=MsoToc2><a href="#_Toc172809481">Implement by Command (Code)<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>27</span></a></p>

<p class=MsoNormal>&nbsp;</p>

<span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc172809443">Introduction</a></h1>

<p class=paragraph><span class=normaltextrun><span style='font-family:"Calibri",sans-serif'>The
Medical Image Segmentation Synthesis (MISS) Tool is a program written in MATLAB
for emulating segmentation by adjusting the input (truth) mask through simulating
various types of segmentation errors. The tool also implemented the computation
of performance metrics for segmentation evaluation, including the Dice
coefficient, Jaccard index (IoU), Medical Similarity Index (MSI), and several
distance-based metrics. The MISS tool supports two ways to use: through its
graphical user interface (GUI) or using command-line functions. The GUI allows
for visualization of the synthesis results, interactively tuning synthesis
parameters, and evaluation results. The command-line mode allows for processing
images in batches as well as providing flexible ways for users to integrate the
MISS tool with their applications.</span></span></p>

<p class=paragraph><span class=normaltextrun><span style='font-family:"Calibri",sans-serif'>The
MISS tool provides the following components:</span></span></p>

<p class=paragraph style='margin-left:.5in;text-indent:-.25in'><span
class=normaltextrun><span style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><span class=normaltextrun><b><span style='font-family:
"Calibri",sans-serif'>Image segmentation synthesis</span></b></span><span
class=normaltextrun><span style='font-family:"Calibri",sans-serif'>: the user
inputs a truth mask, and the program outputs a segmentation contour with
controlled segmentation errors.</span></span></p>

<p class=paragraph style='margin-left:.5in;text-indent:-.25in'><span
class=normaltextrun><span style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><span class=normaltextrun><b><span style='font-family:
"Calibri",sans-serif'>Segmentation performance evaluation</span></b></span><span
class=normaltextrun><span style='font-family:"Calibri",sans-serif'>: the user
provides a truth and a segmentation result, and the program outputs performance
metrics chosen by the user.</span></span></p>

<h2><a name="_Toc172809444">Version (last update): </a><b><span style='color:#4472C4'>7/25/2024</span></b></h2>

<h1><a name="_Toc172809445">The Use of GUI</a></h1>

<p class=MsoNormal>The GUI contains two options: </p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Segmentation performance evaluation for user’s inputs </p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Image segmentation synthesis </p>

<p class=MsoNormal><span style='font-family:Consolas;color:#0070C0'>To start
the GUI, open the file “main_option.mlapp” and run it in MATLAB.</span></p>

<h2><a name="_Toc172809446">Main options</a></h2>

<p class=MsoNormal>When you start running the MISS tool MATLAB-GUI, you will
see the main options window.</p>

<p class=MsoNormal><img width=278 height=233 id="Picture 33"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image001.jpg"></p>

<p class=MsoNormal>If you have truth masks and segmentation results and want to
calculate segmentation evaluation metrics of them, select <b>1: Computing
Segmentation Metrics</b>.</p>

<p class=MsoNormal>If you have truth masks and want to generate synthetic segmentations
by adjusting the truth masks, select <b>2: Synthesis of Segmentation Contours</b>.</p>

<p class=MsoNormal>When any one of the options is selected, a new window will
be shown, and this main window will be closed. There is a “Return to main
window” button on the new window for going back to this window.</p>

<h2><a name="_Hlk149648453"></a><a name="_Toc172809447">Metrics for user's
truth and segmentation</a></h2>

<p class=MsoNormal><img width=624 height=408 id="Picture 1"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image002.png"></p>

<p class=MsoNormal>After <a name="_Hlk172647084">clicking the “Computing
Segmentation Metrics” on the main options window</a>, you will see the window
for <b>Metrics Computation</b>. </p>

<p class=MsoNormal><b>“Return to main window” </b>button on the new window is for
going back to the main window.</p>

<h3><a name="_Toc172809448">Single comparison</a></h3>

<h4><a name="_Toc172809449">Load data</a></h4>

<p class=MsoNormal>For the single (once) comparison, you click the “<b>Segmentation
contour</b>” and “<b>Reference contour</b>” buttons in the “<b>User Input
(Single)</b>” panel to input one segmentation image and one (reference) truth
mask image. </p>

<p class=MsoNormal><span style='font-family:Consolas;color:#4472C4'>The
supported image formats are: '*.jpg; *.tif; *.png; *.gif'. The image should have
only one object (connected component) as the segmentation or truth mask. The
image should be or will be converted to a binary image, with “1” standing for
the object (foreground) and “0” standing for the background.</span></p>

<p class=MsoNormal><span style='font-family:Consolas;color:#C00000'>Note: input
images must have the same size.</span></p>

<p class=MsoNormal><img width=145 height=118 id="Picture 34"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image003.png"></p>

<p class=MsoNormal>After inputting an image, the file name of the image will
show below the input button the metrics values and images will display
automatically.</p>

<h4><a name="_Toc172809450">To view result</a></h4>

<p class=MsoNormal>The values of 24 metrics show in the “Segmentation Metrics”
frame. On the Segmentation Viewer, truth mask shows in filled blue area, and
the segmentation shows in the green contour.</p>

<p class=MsoNormal><span style='font-family:Consolas;color:#C00000'>Note: by default,
the calculations of Hausdorff Distance (HD) and Average Hausdorff Distance
(AVD) metrics are off due to the relatively slower speed for these metrics. To
include the two metrics, check the <a name="_Hlk149651320">“Compute Hausdorff
Distances (slower)” </a>box.</span></p>

<p class=MsoNormal><img width=624 height=408 id="Picture 41"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image004.png"></p>

<p class=MsoNormal>More details of these metrics are in the “<a
href="#_Function_for_segmentation">Functions of segmentation evaluation metrics</a>”
section.</p>

<h4><a name="_Toc172809451">Results output</a></h4>

<p class=MsoNormal>The values of 24 metrics auto-save in the “<b>Workspace</b>”
of MATLAB, it is a MATLAB <b><i>struct</i></b> value named “<b>metrics_value</b>”.</p>

<p class=MsoNormal><img border=0 width=193 height=53 id="Picture 9"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image005.jpg"></p>

<p class=MsoNormal><img border=0 width=241 height=316 id="Picture 10"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image006.jpg"></p>

<p class=MsoNormal>By clicking the “<b>Save metrics values</b>” button, these
values will be saved in a <b><i>CSV</i></b> file: “/MISS-tool/Saved/seg_mask_Metrics.csv”.</p>

<h3><a name="_Toc172809452"></a><a name="_Other_options"></a>Other options</h3>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>“Compute Hausdorff Distances (slower)” </b>check box: on/off
the calculations of Hausdorff Distance (HD) and Average Hausdorff Distance
(AVD) metrics.</p>

<p class=MsoListParagraphCxSpMiddle><img border=0 width=190 height=53
id="Picture 37"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image007.png"><span
style='font-family:Wingdings'>ßà</span> <img border=0 width=186 height=50
id="Picture 38"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image008.png"></p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>“Display in filled contour” </b>check box: on/off filling the
area of segmentation. If checked the truth mask shows in filled red area, and
the segmentation shows in filled blue area with green contour. Their
overlapping area shows in purple. </p>

<p class=MsoListParagraphCxSpLast><img border=0 width=253 height=262
id="Picture 39"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image009.png"> <span
style='font-family:Wingdings'>ßà</span> <img border=0 width=250 height=265
id="Picture 40"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image010.png"></p>

<h3><a name="_Toc172809453">Many comparisons at once</a></h3>

<h4><a name="_Toc172809454">Load data</a></h4>

<p class=MsoNormal>To <a name="_Hlk172546465">load images and masks for many comparisons
</a>at once, you click the “<b>Segmentation contourS</b>” and “<a
name="_Hlk172647187"><b>Reference contourS</b></a>” buttons in the “<b>User
Input (Many)</b>” panel to input any number (&gt;0) of segmentation images and
(reference) truth masks. It allows users to compute the metrics values between many
pairs of segmentations and (reference) <a name="_Hlk172545279">truth masks</a>.</p>

<p class=MsoNormal><span style='font-family:Consolas;color:#4472C4'>The
supported image formats are: '*.jpg; *.tif; *.png; *.gif'. The image should
have only one object (connected component) as the segmentation or truth mask.
The image should be or will be converted to a binary image, with “1” standing
for the object (foreground) and “0” standing for the background.</span></p>

<p class=MsoNormal><span style='font-family:Consolas;color:#C00000'>Note: 1) the
numbers of segmentations and truth masks must be same and non-zero; 2) all
input images must have the same size.</span></p>

<p class=MsoNormal><img border=0 width=146 height=174 id="Picture 42"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image011.png">               <img
border=0 width=212 height=174 id="Picture 43"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image012.png"></p>

<p class=MsoNormal>After loading the image files, the number of image files
will show below the buttons, and files’ names will print in <b>MATLAB Command
Window</b>.</p>

<h4><a name="_Toc172809455">Results output</a></h4>

<p class=MsoNormal>After loading the image files, you click the “<b>Comparing</b>”
button to start computing the 24 metrics values for each pair of segmentations
and reference masks, and the results will be saved in a <b><i>CSV</i></b> file:
“/MISS-tool/Saved/Metrics_Result.csv”.</p>

<h4><a name="_Toc172809456">Advanced comparing mode</a></h4>

<p class=MsoNormal><img border=0 width=385 height=216 id="Picture 45"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image013.jpg"></p>

<p class=MsoNormal>The default many-comparison function can only be used to
compare paired inputs (segmentations and truth masks). MISS tool also provides
the advanced comparing mode to allow users to customize their own comparing strategies,
such as one vs. many comparisons or combinational comparisons between any two
masks from a cohort.</p>

<p class=MsoNormal>To click the “<b>Advanced ...</b>”-&gt; “<b>Save the list</b>”
buttons can create a comparing list at “/MISS-tool/Saved/compare_files_list.csv”.
Whatever you loaded segmentations and/or truth masks or none, the comparing
list can be saved. The directories of loaded image files will export to the
list; Column#1 for directories of Seg files and Column#2 for directories of
Truth files. </p>

<p class=MsoNormal>Then, the comparing list can be <b><u>edited to fulfill the
user’s specific needs</u></b>. Before implementing comparisons depending on the
list, two requirements must be met:</p>

<p class=MsoNormal><span style='font-family:Consolas;color:#C00000'>Note: 1) the
numbers of segmentations and truth masks must be same and non-zero, that is,
the two columns in comparing list must be paired; 2) all input images must have
the same size.</span></p>

<p class=MsoNormal>After editing the comparing list, you click the “<b>Advanced
...</b>”-&gt; “<b>To compare</b>” buttons to start computing the 24 metrics
values for each pair of segmentations and reference masks on the list, and the
results will be saved in a <b><i>CSV</i></b> file: “/MISS-tool/Saved/Metrics_Result.csv”.</p>

<span style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc172809457">Segmentation synthesis</a></h2>

<h3><a name="_Toc172809458">Load data</a></h3>

<p class=MsoNormal><img border=0 width=624 height=411 id="Picture 2"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image014.jpg"></p>

<p class=MsoNormal>After clicking the “Synthesis of Segmentation Contours” on
the main options window, you will see the window for <b>Synthesis of Contour </b>mode.
</p>

<p class=MsoNormal><b>“Return to main window” </b>button on the new window is
for going back to the main options window.</p>

<p class=MsoNormal>First, you click the “<b>Load Truth Mask</b>” button (the blue
arrow on above picture) to input a truth mask. </p>

<p class=MsoNormal><span style='font-family:Consolas;color:#4472C4'>The
supported image formats are: '*.jpg; *.tif; *.png; *.gif'. The image should
have only one object (connected component) as the segmentation or truth mask.
The image will be converted to binary image, of which “1” stands for the object
(foreground) and “0” stands for the background.</span></p>

<p class=MsoNormal><img border=0 width=624 height=415 id="Picture 4"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image015.png"></p>

<p class=MsoNormal>After loading a mask, the metrics values and images will
display automatically. On the <b>Segmentation Viewer</b>, truth mask shows in
filled blue area, and the modified (synthetic) segmentation shows in the green
contour. The values of 24 metrics show in the “Comparison” frame. They are
calculated by using the synthetic segmentation and the truth mask. Without any
modification, the synthetic segmentation is identical to the truth mask. </p>

<p class=MsoNormal><span style='font-family:Consolas;color:#C00000'>Note: by
default, the calculations of Hausdorff Distance (HD) and Average Hausdorff
Distance (AVD) metrics are off due to a slow processing. If you want to include
the two metrics, check the “Compute Hausdorff Distances (Slow)” box under the “Comparison”
frame.</span></p>

<p class=MsoNormal>You click the “<b>Recover</b>” button to reload the mask. It
will undo all changes and recover the mask image back to its original contour
as you first time loading it. For details of the “Compute Hausdorff Distances
(slower)” check box and “Display in filled contour” check box, please see in
the <a href="#_Other_options">“Other options” section</a>.</p>

<h3><a name="_Toc172809459">Synthesis Tools</a></h3>

<p class=MsoNormal>In the Synthesis of Contour mode, our tool provides three methods
to modify the input truth mask and to generate various synthetic segmentations;
they are in the “Synthesis Tools” panel:</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Add spiculations – <b>“Spiculation” </b>button. An example:</p>

<p class=MsoListParagraphCxSpMiddle><img border=0 width=109 height=109
id="Picture 14"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image016.jpg"> <span
style='font-family:Wingdings'>à</span> <img border=0 width=110 height=109
id="Picture 15"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image017.jpg"></p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Contour change by Fourier Descriptor – <b>“Fourier” </b>button.
An example:</p>

<p class=MsoListParagraphCxSpMiddle><img border=0 width=109 height=109
id="Picture 18"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image018.jpg"> <span
style='font-family:Wingdings'>à</span> <img border=0 width=110 height=109
id="Picture 16"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image019.jpg"></p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Affine transformation – <b>“Affine” </b>button. An example:</p>

<p class=MsoListParagraphCxSpMiddle><img border=0 width=109 height=109
id="Picture 19"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image016.jpg"> <span
style='font-family:Wingdings'>à</span> <img border=0 width=109 height=109
id="Picture 17"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image020.jpg"></p>

<p class=MsoListParagraphCxSpLast>&nbsp;</p>

<p class=MsoNormal>Each method provides several parameters for tuning to
generate different synthetic segmentations. These methods can be applied to
masks individually or combinedly to create more different synthetic
segmentations. The following sections show guides of how to use these functions
in our tool. For more details of these methods, please see in the “<a
href="#_Functions_for_segmentation">Functions of segmentation synthesis</a>”
section.</p>

<h4><a name="_Toc172809460"></a><a name="_Add_spiculations"></a>Add spiculations</h4>

<p class=MsoNormal><img border=0 width=358 height=238 id="Picture 6"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image021.png"></p>

<p class=MsoNormal>After clicking the “Spiculation”, you will see the window
for adding<b> </b>spiculations.</p>

<p class=MsoNormal><b><u><span style='color:#0070C0'>Parameters</span></u></b></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><a
name="_Hlk155529742"><span style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Center</b>: location to put the spiculation, it is an angle value
ranging from 0 to 359 degree (360 = 0 degree).</a></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Height</b>:<b> </b>the height of the spiculation, the number
of pixels.</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Width</b>: the width of the spiculation, the number of pixels.</p>

<p class=MsoNormal style='margin-left:.25in'>For technical details of these
parameters, please see in the “<b><i>2.3 Spiculations</i></b>” section of the
paper: </p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
line-height:107%;font-family:"Arial",sans-serif;color:#222222;background:white'>Guan,
S., Samala, R. K., Arab, A., &amp; Chen, W. (2023, April). MISS-tool: medical image
segmentation synthesis tool to emulate segmentation errors. In&nbsp;<i>Medical
Imaging 2023: Computer-Aided Diagnosis</i>&nbsp;(Vol. 12465, pp. 273-281).
SPIE. </span><a href="https://doi.org/10.1117/12.2653650"><span
style='font-size:10.0pt;line-height:107%;font-family:"Arial",sans-serif;
background:white'>https://doi.org/10.1117/12.2653650</span></a><span
style='font-size:10.0pt;line-height:107%;font-family:"Arial",sans-serif;
color:#222222;background:white'> </span></p>

<p class=MsoNormal><b><u><span style='color:#0070C0'>Operations</span></u></b></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Close</b>: close the window.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Apply to original</b>: add the spiculation to the input mask.
This operation will reset the mask that has been modified by other methods
before adding a spiculation.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Apply to current</b>: add the spiculation to the current mask.
This operation is to add a spiculation to a mask that has been modified by
other methods (or to add multiple spiculations to a mask). In other words, besides
adding a spiculation, all modifications made before will be kept.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Add params to Batch Processing</b>: send and add all
parameters of this modification to the Batch Processing window. For more
details, please see in the “<a href="#_Batch_Processing">Batch Processing</a>”
section.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Undo once</b>: This operation will undo the last modification
and recover the previous mask. When several changes applied, this operation can
only execute once to undo the very last change. </p>

<p class=MsoListParagraphCxSpLast><span style='font-family:Consolas;color:#C00000'>Note:
It is a <b><u>global</u></b> operation through all the three Synthesis Tools;
it means after the “undo once” executed in one Synthesis Tool window, the “undo
once” function in other Synthesis Tool windows will not work anymore before the
next modification happened.</span></p>

<p class=MsoNormal>After clicking the “Apply to original” or “Apply to current”,
the result will show on the Segmentation Viewer. Here we show an example of:</p>

<p class=MsoNormal><b>Center</b>: 270 (degree)</p>

<p class=MsoNormal><b>Height</b>: 20 (pixels)</p>

<p class=MsoNormal><b>Width</b>: 6 (pixels)</p>

<p class=MsoNormal><b>Apply to original.</b></p>

<p class=MsoNormal><img border=0 width=109 height=109 id="Picture 22"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image022.jpg"> <span
style='font-family:Wingdings'>à</span> <img border=0 width=109 height=109
id="Picture 21"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image023.jpg"></p>

<h4><a name="_Toc172809461"></a><a name="_Change_contour_by"></a>Change contour
by Fourier Descriptor</h4>

<p class=MsoNormal><img border=0 width=405 height=233 id="Picture 7"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image024.png"></p>

<p class=MsoNormal>After clicking the “Fourier”, you will see the window for changing
contour by Fourier Descriptor method.</p>

<p class=MsoNormal><b><u><span style='color:#0070C0'>Parameters</span></u></b></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><a
name="_Hlk155548020"><span style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Detail</b>: the<b> </b>number of<b> </b>Fourier Descriptors to
be not set to zero; the larger value the more detail of the contour
(high-frequency components) will be kept; ranging from 1 to the “<b>Total #</b>”,
which is the total applicable number of Fourier Descriptors (the half number of
pixels on the contour).</a></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Range</b>:<b> </b>the<b> </b>number of<b> </b>Fourier
Descriptors to be modified; ranging from 0 to (<i>Detail value</i> – 1); the
larger value the greater change is applied to the contour.</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Magnitude</b>: the magnitude of modification to the Fourier
Descriptors to be changed according to the <i>Range</i>; the larger value the
greater change is applied to the contour.</p>

<p class=MsoNormal style='margin-left:.25in'>For technical details of these
parameters, please see in the “<b><i>2.4 Fourier Descriptor</i></b>” section of
the paper: </p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
line-height:107%;font-family:"Arial",sans-serif;color:#222222;background:white'>Guan,
S., Samala, R. K., Arab, A., &amp; Chen, W. (2023, April). MISS-tool: medical
image segmentation synthesis tool to emulate segmentation errors. In&nbsp;<i>Medical
Imaging 2023: Computer-Aided Diagnosis</i>&nbsp;(Vol. 12465, pp. 273-281).
SPIE. </span><a href="https://doi.org/10.1117/12.2653650"><span
style='font-size:10.0pt;line-height:107%;font-family:"Arial",sans-serif;
background:white'>https://doi.org/10.1117/12.2653650</span></a><span
style='font-size:10.0pt;line-height:107%;font-family:"Arial",sans-serif;
color:#222222;background:white'> </span></p>

<p class=MsoNormal><b><u><span style='color:#0070C0'>Operations</span></u></b></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Close</b>: close the window.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Apply to original</b>: change contour of the input mask. This
operation will reset the mask that has been modified by other methods before changing
its contour.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Apply to current</b>: change contour of the current mask. This
operation is to change contour of the mask that has been modified by other
methods. In other words, besides changing contour by the Fourier Descriptor
method, all modifications made before will be kept.</p>

<p class=MsoListParagraphCxSpMiddle><span style='font-family:Consolas;
color:#C00000'>Note: due to the method of change includes random seeds, for
each time running the “Apply to original” or “Apply to current”, the result is
different.</span> <span style='font-family:Consolas;color:#C00000'>For more
details about the randomness, please see in the “Functions of segmentation
synthesis” section.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Add params to Batch Processing</b>: send and add all
parameters of this modification to the Batch Processing window. For more
details, please see in the “<a href="#_Batch_Processing">Batch Processing</a>”
section.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Undo once</b>: This operation will undo the last modification
and recover the previous mask. When several changes applied, this operation can
only execute once to undo the very last change. </p>

<p class=MsoListParagraphCxSpLast><span style='font-family:Consolas;color:#C00000'>Note:
It is a <b><u>global</u></b> operation through all the three Synthesis Tools;
it means after the “undo once” executed in one Synthesis Tool window, the “undo
once” function in other Synthesis Tool windows will not work anymore before the
next modification happened.</span></p>

<p class=MsoNormal>After clicking the “Apply to original” or “Apply to current”,
the result will show on the Segmentation Viewer. Here we show an example of:</p>

<p class=MsoNormal><b>Detail</b>: 20</p>

<p class=MsoNormal><b>Range</b>: 12</p>

<p class=MsoNormal><b>Magnitude</b>: 6</p>

<p class=MsoNormal><b>Apply to original.</b></p>

<p class=MsoNormal><img border=0 width=109 height=109 id="Picture 24"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image025.jpg"> <span
style='font-family:Wingdings'>à</span> <img border=0 width=111 height=111
id="Picture 11"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image026.jpg"></p>

<h4><a name="_Toc172809462"></a><a name="_Affine_transformation"></a>Affine transformation</h4>

<p class=MsoNormal><img border=0 width=334 height=206 id="Picture 8"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image027.png"></p>

<p class=MsoNormal>After clicking the “Affine”, you will see the window for Affine
transformation.</p>

<p class=MsoNormal><b><u><span style='color:#0070C0'>Parameters</span></u></b></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><a
name="_Hlk155550261"><span style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Resize</b>: the ratio of size change on x-axis (vertical) and
y-axis (horizontal). Here we show an example for x = 1.5, y=2 applying to
original mask, without other changes (Rotation=0 and Shift = (0,0)):</a></p>

<p class=MsoListParagraphCxSpMiddle><img border=0 width=109 height=109
id="Picture 26"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image028.jpg"><b> </b><span
style='font-family:Wingdings'>à</span> <img border=0 width=109 height=110
id="Picture 29"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image029.jpg"></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Rotation</b>:<b> </b>the degree of<b> </b>rotation by the
center of the mask. Here we show an example for the value = 90 applying to
original mask, without other changes (Resize=(1,1) and Shift = (0,0)):</p>

<p class=MsoListParagraphCxSpMiddle><img border=0 width=109 height=109
id="Picture 27"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image025.jpg"><b> </b><span
style='font-family:Wingdings'>à</span> <img border=0 width=110 height=110
id="Picture 30"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image030.jpg"></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Shift</b>: moving the mask by its center with the vector (X,
Y), the number of pixels. Here we show an example for the value = (20, 10) applying
to original mask, without other changes (Resize=(1,1) and Rotation=0):</p>

<p class=MsoListParagraphCxSpLast><img border=0 width=109 height=109
id="Picture 28"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image025.jpg"><b> </b><span
style='font-family:Wingdings'>à</span> <img border=0 width=110 height=110
id="Picture 31"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image031.jpg"></p>

<p class=MsoNormal style='margin-left:.25in'>For technical details of these
parameters, please see in the “<b><i>2.1 Affine Transformation</i></b>” section
of the paper: </p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
line-height:107%;font-family:"Arial",sans-serif;color:#222222;background:white'>Guan,
S., Samala, R. K., Arab, A., &amp; Chen, W. (2023, April). MISS-tool: medical
image segmentation synthesis tool to emulate segmentation errors. In&nbsp;<i>Medical
Imaging 2023: Computer-Aided Diagnosis</i>&nbsp;(Vol. 12465, pp. 273-281).
SPIE. </span><a href="https://doi.org/10.1117/12.2653650"><span
style='font-size:10.0pt;line-height:107%;font-family:"Arial",sans-serif;
background:white'>https://doi.org/10.1117/12.2653650</span></a><span
style='font-size:10.0pt;line-height:107%;font-family:"Arial",sans-serif;
color:#222222;background:white'> </span></p>

<p class=MsoNormal><b><u><span style='color:#0070C0'>Operations</span></u></b></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Close</b>: close the window.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Apply to original</b>: change contour of the input mask. This
operation will reset the mask that has been modified by other methods before changing
its contour.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Apply to current</b>: change contour of the current mask. This
operation is to change contour of the mask that has been modified by other
methods. In other words, besides changing contour by Affine transformations,
all modifications made before will be kept.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Add params to Batch Processing</b>: send and add all
parameters of this modification to the Batch Processing window. For more
details, please see in the “<a href="#_Batch_Processing">Batch Processing</a>”
section.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b>Undo once</b>: This operation will undo the last modification
and recover the previous mask. When several changes applied, this operation can
only execute once to undo the very last change. </p>

<p class=MsoListParagraphCxSpLast><span style='font-family:Consolas;color:#C00000'>Note:
It is a <b><u>global</u></b> operation through all the three Synthesis Tools;
it means after the “undo once” executed in one Synthesis Tool window, the “undo
once” function in other Synthesis Tool windows will not work anymore before the
next modification happened.</span></p>

<p class=MsoNormal>After clicking the “Apply to original” or “Apply to current”,
the result will show on the Segmentation Viewer. </p>

<h3><a name="_Toc172809463">Results Output</a></h3>

<p class=MsoNormal>After all changes applied to the mask, you click the “<b>Save
syn mask &amp; metrics values</b>” button in the main “Segmentation Viewer”
window then two files will be created: 1) the modified mask will be saved in a <b><i>PNG</i></b>
file: “/MISS-tool/Saved/Syn_truth_mask.png”, 2) and results of 24 segmentation
metrics between the input and modified masks will be saved in a <b><i>CSV</i></b>
file: “/MISS-tool/Saved/Syn_truth_mask_Metrics.csv”. The values of 24 metrics
also auto-save in the “Workspace” of MATLAB, it is a MATLAB <i>struct</i> value
named “<b>metrics_value</b>”.</p>

<h3><a name="_Toc172809464"></a><a name="_Batch_Processing"></a>Batch
Processing</h3>

<p class=MsoNormal>You click the “<b>Batch Processing</b>” button in the main “Segmentation
Viewer” window to open the Batch Processing window. Batch Processing allows you
to automatically apply several modifications, including Fourier Descriptor (<b>FD</b>),
Spiculation (<b>SP</b>), and Affine transformation (<b>AF</b>), to one or many
masks all at once. We will introduce the Batch Processing by parts of 1) Parameters,
2) Editing operations for modification plan, 3) Applying modifications to
mask(s), and 4) Save &amp; load modifications plan.</p>

<p class=MsoNormal><img border=0 width=618 height=446 id="Picture 12"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image032.png"></p>

<p class=MsoNormal><span style='font-family:Consolas;color:#C00000'>Note: 1) To
open the “Batch Processing” window, a truth mask must be loaded from the main “Segmentation
Viewer” window. 2) To click the “Return to main window” button in main
“Segmentation Viewer” window, the “Batch Processing” window must be closed. 3)
The modifications plan (MOD) will be deleted once the “Batch Processing” window
is closed. To keep it, please click “Save to MOD file”.</span></p>

<h4><a name="_Toc172809465"></a><a name="_Parameters"></a>Parameters</h4>

<p class=MsoNormal>The parameters are grouped by the three types of modifications
to masks. They are exactly the same as shown in the “Synthesis Tools” before.
To look at the details of the parameters for each type of modifications: <a
name="_Hlk171428579"></a><a href="#_Change_contour_by">Fourier Descriptor (FD)</a>,
<a href="#_Add_spiculations">Spiculation (SP)</a>, and <a
href="#_Affine_transformation">Affine transformation (AF)</a>, please use their
links.</p>

<p class=MsoNormal><span style='font-family:Consolas;color:#0070C0'>The
parameters: <a name="_Hlk172725797"><b>Detail</b> and <b>Range</b> for Fourier
Descriptor (FD), will be presented and saved in <b><i>percentage (%)</i></b> forms</a>.
Where:</span></p>

<p class=MsoNormal><span
style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
width=196 height=25
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image033.png"></span></p>

<p class=MsoNormal><span
style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><img
width=204 height=28
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image034.png"></span></p>

<p class=MsoNormal><span style='font-family:Consolas;color:#0070C0'>The details
about these parameters can be found in </span><a href="#_Change_contour_by"><span
style='font-family:Consolas;color:blue'>Fourier Descriptor (FD)</span></a><span
style='font-family:Consolas;color:#0070C0'>.</span></p>

<p class=MsoNormal><span style='font-family:Consolas;color:#0070C0'>&nbsp;</span></p>

<h4><a name="_Toc172809466">Editing operations for </a><a name="_Hlk172023897">modification
plan</a></h4>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b><u><span style='color:#0070C0'>Add operations</span></u></b></p>

<p class=MsoNormal><img border=0 width=474 height=347 id="Picture 13"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image035.png"></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Choose
one operation to be added into the modification plan from the parameters field
(right) by clicking its check box.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Edit
the parameters.</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Click
“<b>&lt; Add</b>” button. The operation will be added in queue with an order
number.</p>

<p class=MsoNormal><span style='font-family:Consolas;color:#0070C0'>Operations can
also add/send into the modification plan from the </span><a
href="#_Change_contour_by"><span style='font-family:Consolas;color:blue'>Fourier
Descriptor (FD)</span></a><span style='font-family:Consolas'>, </span><a
href="#_Add_spiculations"><span style='font-family:Consolas;color:blue'>Spiculation
(SP)</span></a><span style='font-family:Consolas'>, and </span><a
href="#_Affine_transformation"><span style='font-family:Consolas;color:blue'>Affine
transformation (AF)</span></a><span class=MsoHyperlink><span style='font-family:
Consolas;text-decoration:none'> windows by clicking the “</span></span><b><span
style='font-family:Consolas;color:#0070C0'>Add params to Batch Processing” </span></b><span
style='font-family:Consolas;color:#0070C0'>button.</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b><u><span style='color:#0070C0'>Remove operations </span></u></b></p>

<p class=MsoNormal><img border=0 width=472 height=344 id="Picture 20"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image036.png"></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Select
the operation to be removed on the <b>Modifications </b>list.</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Click
“<b>Remove</b>” button. This operation will be removed from the queue. The
order numbers of operations after it will subtract one.</p>

<p class=MsoNormal><b><u><span style='color:#0070C0'>Change operations on the Modifications
list</span></u></b></p>

<p class=MsoNormal><b><img border=0 width=472 height=342 id="Picture 23"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image037.png"></b></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Select
the operation to be changed on the <b>Modifications </b>list (left).</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Choose
one operation from the parameters field (right) by clicking its check box to substitute
the selected operation (left).</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Click
“<b>&lt; Overwrite</b>” button. The selected operation on the <b>Modifications </b>list
(left) will be substituted by the new operation with checked box from the
parameters field (right).</p>

<p class=MsoNormal><span style='font-family:Consolas;color:#0070C0'>To click “<b>Copy
&gt;</b>” button, the parameters of selected operation will be copied to the according
parameters field, and the title of operation on the parameters field (right)
will flash for highlighting.</span></p>

<p class=MsoNormal><span style='font-family:Consolas;color:#0070C0'><img
border=0 width=468 height=340 id="Picture 25"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image038.png"></span></p>

<p class=MsoNormal>&nbsp;</p>

<h4><a name="_Toc172809467">Applying modifications to mask(s)</a></h4>

<p class=MsoNormal>Click the “<b>Apply to Dashboard Sample (from original)</b>”
button, all operations on the Modifications<b> </b>list will be applied in
their orders to the original mask loaded from the main window. </p>

<p class=MsoNormal><span style='font-family:Consolas;color:#C00000'>Note: this
operation will reset the mask that has been modified by other methods before.</span></p>

<p class=MsoNormal><img border=0 width=613 height=262 id="Picture 32"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image039.png"></p>

<p class=MsoNormal>Click the “<b>Apply to User Input (many)</b>” button, all
operations on the Modifications<b> </b>list will be applied in their orders to
the selected masks by users. And the modified mask will be saved in <b><i>PNG</i></b>
files under folder: “…/MISS-tool/Saved/Batch_saved/”, by adding “_syn” in their
file names.</p>

<p class=MsoNormal><span style='font-family:Consolas;color:#4472C4'>The
supported image formats are: '*.jpg; *.tif; *.png; *.gif'. The image should
have only one object (connected component) as the segmentation or truth mask.
The image will be converted to binary image, of which “1” stands for the object
(foreground) and “0” stands for the background.</span></p>

<p class=MsoNormal><span style='font-family:Consolas;color:#4472C4'>&nbsp;</span></p>

<h4><a name="_Toc172809468">Save &amp; load modifications plan</a></h4>

<p class=MsoNormal><img border=0 width=485 height=353 id="Picture 36"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image040.png"></p>

<p class=MsoNormal>Click the “<b>Save to MOD file</b>” button, the operations
on the Modifications<b> </b>list will be saved in an <b><i>XML</i></b> file: “/MISS-tool/Saved/saved_batch_processing_params.xml”.
To load saved operations into the Modifications<b> </b>list, click “<b>Load
from MOD file</b>” and choose an XML file to open. </p>

<p class=MsoNormal><span style='font-family:Consolas;color:#C00000'>Note: “<b>Load
from MOD file</b>” will reset the Modifications list. Unsaved operations will
be lost.</span></p>

<span style='font-size:11.0pt;line-height:107%;font-family:Consolas;color:#C00000'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span style='font-family:Consolas;color:#C00000'>&nbsp;</span></p>

<h1><a name="_Toc172809469">The Use of Command (Code)</a></h1>

<p class=MsoNormal>Similar to the GUI, the Command model has two parts:</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Segmentation performance evaluation for user’s inputs (truth and
segmentation results)</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Image segmentation synthesis (truth masks provided by user)</p>

<h2><a name="_Toc172809470">Main functions</a></h2>

<h3><a name="_Toc172809471"></a><a name="_Function_for_segmentation"></a>Function
for segmentation evaluation metrics: <b>seg_measures</b></h3>

<p class=MsoNormal>This function is used for segmentation performance
evaluation of user’s inputs (truth masks and segmentation results)</p>

<p class=MsoNormal><b><u>Usage</u><span style='color:#0070C0'>: </span></b><b><span
style='font-family:Consolas;color:#0070C0'>idx = seg_measures(<i>img1</i>, <i>img2,</i></span></b>
<b><i><span style='font-family:Consolas;color:#0070C0'>compute_Hausdorff</span></i></b><b><span
style='font-family:Consolas;color:#0070C0'>)</span></b></p>

<p class=MsoNormal><b><u>Input</u></b>:    <i><span style='color:#0070C0'>{img1,
img2}</span></i>: two binary images {0, 1}, same size</p>

<p class=MsoNormal>                <i><span style='color:#0070C0'>compute_Hausdorff</span></i>:
if compute Hausdorff Distances (slower); Boolean.</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><i>true</i>: compute HD and AVD</p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><i>false</i>: do NOT compute HD and AVD</p>

<p class=MsoNormal><b><u>Output</u></b>: A <b>struct data</b> includes 24
indexes of segmentation evaluation metrics</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>DICE       Dice
Coefficient</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>JAC         Jaccard
Coefficient</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MSI        Medical
Similarity Index</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>FN          False
Negative (Confusion matrix)</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>FP           False
Positive (Confusion matrix)</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>TN          True
Negative (Confusion matrix)</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>TP           True
Positive (Confusion matrix)</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>TPR        Sensitivity
(Recall, true positive rate)</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>TNR        Specificity
(true negative rate)</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>10.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>FPR        Fallout
(false positive rate)</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>11.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>PPV        Precision
(also called positive predictive value) </p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>12.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>ACC        Accuracy</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>13.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>AUC       Area under
ROC Curve (one system state)</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>14.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>KAP        Cohen Kappa</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>15.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>ARI         Adjusted
Rand Index</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>16.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>ICC         Interclass
Correlation</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>17.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>VS           Volumetric
Similarity Coefficient</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>18.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>MI          Mutual
Information</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>19.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>VOI        Variation
of Information</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>20.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>PBD        Probabilistic
Distance</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>21.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>GCE        Global
Consistency Error</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>22.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>HD          Hausdorff
Distance (optionally in voxel or millimeter)</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>23.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>AVD       Average
Hausdorff Distance (optionally in voxel or millimeter)</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>24.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>MHD      Mahanabolis
Distance</p>

<p class=MsoNormal style='margin-left:.25in'>For example, <span
style='font-family:Consolas;color:#0070C0'>idx.DICE</span><span
style='color:#0070C0'> </span>is the Dice Coefficient of <i>img1</i> and <i>img2</i>.</p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-family:Consolas;
color:#0070C0'>Note: if compute_Hausdorff = false, idx.HD = NaN, idx.AVD = NaN.</span></p>

<h3><a name="_Toc172809472"></a><a name="_Functions_for_segmentation"></a>Functions
for <a name="_Hlk155528241">segmentation synthesis</a></h3>

<p class=MsoNormal>Inputs of the functions for segmentation synthesis are the
image containing a mask to be modified and several parameters. The image is the
key input to these functions, and it should include <b>only one area (connected
component)</b> as the segmentation/mask to be modified. And the output from a function
(modified mask) can be seen as the synthetic segmentation.</p>

<h4><a name="_Toc172809473">Add spiculations: <b>mod_spike</b></a></h4>

<p class=MsoNormal>This function is used to add spiculations to the mask of
user’s input.</p>

<p class=MsoNormal><b><u>Usage</u><span style='color:#0070C0'>: </span></b><b><span
style='font-family:Consolas;color:#0070C0'>syn = mod_spike(<a
name="_Hlk155529663"><i>img, center, height, width</i></a></span></b> <b><i><span
style='font-family:Consolas;color:#0070C0'>, GUI_use</span></i></b><b><span
style='font-family:Consolas;color:#0070C0'>)</span></b></p>

<p class=MsoNormal><b><u>Input</u></b>: </p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#0070C0'>img</span></i>: a binary image {0,
1}</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#0070C0'>center</span></i>: location to put
the spiculation, it is an angle value ranging from 0 to 359 degree (360 = 0
degree).</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#0070C0'>height</span></i>: the height of
the spiculation, the number of pixels.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#0070C0'>width</span></i>: the width of the
spiculation, the number of pixels.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#0070C0'>GUI_use</span></i>: control the
type of input and output of this function. If true, the input and output are
boundaries of the mask; if false, the input and output are mask images; Boolean.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><i>true</i>: mask boundary -&gt; mask boundary</p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><i>false</i>: mask image -&gt; mask image</p>

<p class=MsoNormal>For technical details of these parameters, please see in the
“<b><i>2.3 Spiculations</i></b>” section of the paper: </p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
line-height:107%;font-family:"Arial",sans-serif;color:#222222;background:white'>Guan,
S., Samala, R. K., Arab, A., &amp; Chen, W. (2023, April). MISS-tool: medical
image segmentation synthesis tool to emulate segmentation errors. In&nbsp;<i>Medical
Imaging 2023: Computer-Aided Diagnosis</i>&nbsp;(Vol. 12465, pp. 273-281).
SPIE. </span><a href="https://doi.org/10.1117/12.2653650"><span
style='font-size:10.0pt;line-height:107%;font-family:"Arial",sans-serif;
background:white'>https://doi.org/10.1117/12.2653650</span></a><span
style='font-size:10.0pt;line-height:107%;font-family:"Arial",sans-serif;
color:#222222;background:white'> </span></p>

<p class=MsoNormal><b><u>Output</u></b>: A binary image includes the modified
mask (synthetic segmentation) with an added spiculation, same size as the input
image. </p>

<p class=MsoNormal><span style='font-family:Consolas;color:#C00000'>Note: Running
this function is to add one spiculation to the input mask at a time. To add more
spiculations to a mask needs to run the function multiple times.</span></p>

<h4><a name="_Toc172809474"></a><a name="_Change_contour_by_1"></a>Change
contour by Fourier Descriptor: <b>mod_fourier</b></h4>

<p class=MsoNormal>This function is used to change the mask contour of user’s
input using Fourier Descriptors.</p>

<p class=MsoNormal><b><u>Usage</u><span style='color:#0070C0'>: </span></b><b><span
style='font-family:Consolas;color:#0070C0'>syn = mod_fourier(<i>img, detail,
range, magnitude, GUI_use</i>)</span></b></p>

<p class=MsoNormal><b><u>Input</u></b>: </p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#0070C0'>img</span></i>: a binary image {0,
1}</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#0070C0'>detail</span></i>: the number of
Fourier Descriptors to be not set to zero; the larger value the more detail of
the contour (high-frequency components) will be kept; ranging from 1 to the
half total number of Fourier Descriptors (pixels on the contour).</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#0070C0'>range</span></i>: the number of
Fourier Descriptors to be modified; ranging from 0 to (Detail value – 1); the
larger value the greater change is applied to the contour.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#0070C0'>magnitude</span></i>: the
magnitude of modification to the Fourier Descriptors to be changed according to
the Range; the larger value the greater change is applied to the contour.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#0070C0'>GUI_use</span></i>: control the
type of input and output of this function. If true, the input is mask image and
output is the boundary of mask; if false, the input and output are mask images;
Boolean.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><i>true</i>: mask image -&gt; mask boundary</p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><i>false</i>: mask image -&gt; mask image</p>

<p class=MsoNormal><a name="_Hlk155629250">For technical details of these
parameters, please see in the “<b><i>2.4 Fourier Descriptor</i></b>” section of
the paper: </a></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
line-height:107%;font-family:"Arial",sans-serif;color:#222222;background:white'>Guan,
S., Samala, R. K., Arab, A., &amp; Chen, W. (2023, April). MISS-tool: medical
image segmentation synthesis tool to emulate segmentation errors. In&nbsp;<i>Medical
Imaging 2023: Computer-Aided Diagnosis</i>&nbsp;(Vol. 12465, pp. 273-281).
SPIE. <a name="_Hlk155548325"></a></span><a
href="https://doi.org/10.1117/12.2653650"><span style='font-size:10.0pt;
line-height:107%;font-family:"Arial",sans-serif;background:white'>https://doi.org/10.1117/12.2653650</span></a><span
style='font-size:10.0pt;line-height:107%;font-family:"Arial",sans-serif;
color:#222222;background:white'> </span></p>

<p class=MsoNormal><b><u>Output</u></b>: A binary image includes the modified
mask (synthetic segmentation) by changing the Fourier Descriptors of the mask,
same size as the input image. </p>

<p class=MsoNormal><span style='font-family:Consolas;color:#C00000'>Note: due
to the method of change includes random seeds, for each time running the function,
the result could be different.</span> <span style='font-family:Consolas;
color:#C00000'>For more details about the randomness, please see in the “2.4
Fourier Descriptor” section of the paper (https://doi.org/10.1117/12.2653650).</span></p>

<h4><a name="_Toc172809475">Affine transformation: <b>mod_affine</b></a></h4>

<p class=MsoNormal>This function is used to change the mask of user’s input
using affine transformations, which includes: resizing (changing the height and
width ratio), shifting, and rotation.</p>

<p class=MsoNormal><b><u>Usage</u><span style='color:#0070C0'>: </span></b><b><span
style='font-family:Consolas;color:#0070C0'>syn = mod_affine(<i>img, resize,
rotate, shift, GUI_use</i>)</span></b></p>

<p class=MsoNormal><b><u>Input</u></b>: </p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#0070C0'>img</span></i>: a binary image {0,
1}</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#0070C0'>resize</span></i>: the ratio of
size change on x-axis (vertical) and y-axis (horizontal). Input format: <i><span
style='color:#0070C0'>[rx, ry]</span></i>.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#0070C0'>rotation</span></i>: the degree of
rotation by the center of the mask; it is an angle value ranging from 0 to 359
degree (360 = 0 degree).</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#0070C0'>shift</span></i>: moving the mask
by its center with the vector (X, Y), the number of pixels. Input format: <i><span
style='color:#0070C0'>[sx, sy]</span></i>.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i><span style='color:#0070C0'>GUI_use</span></i>: control the
type of input and output of this function. If true, the input is mask image and
output is the boundary of mask; if false, the input and output are mask images;
Boolean.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><i>true</i>: mask image -&gt; mask boundary</p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><i>false</i>: mask image -&gt; mask image</p>

<p class=MsoNormal><a name="_Hlk155629347">For technical details of these
parameters, please see in the “<b><i>2.1 Affine Transformation</i></b>” section
of the paper: </a></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt;
line-height:107%;font-family:"Arial",sans-serif;color:#222222;background:white'>Guan,
S., Samala, R. K., Arab, A., &amp; Chen, W. (2023, April). MISS-tool: medical
image segmentation synthesis tool to emulate segmentation errors. In&nbsp;<i>Medical
Imaging 2023: Computer-Aided Diagnosis</i>&nbsp;(Vol. 12465, pp. 273-281).
SPIE. </span><a href="https://doi.org/10.1117/12.2653650"><span
style='font-size:10.0pt;line-height:107%;font-family:"Arial",sans-serif;
background:white'>https://doi.org/10.1117/12.2653650</span></a><span
style='font-size:10.0pt;line-height:107%;font-family:"Arial",sans-serif;
color:#222222;background:white'> </span></p>

<p class=MsoNormal><b><u>Output</u></b>: A binary image includes the modified
mask (synthetic segmentation) by using affine transformations, same size as the
input image. </p>

<p class=MsoNormal><span style='font-family:Consolas;color:#C00000'>Note: the
“resize” and “shift” are dual-value parameters requiring two values for input; the
format is like: [x, y].</span></p>

<h1><a name="_Toc172809476">An example of segmentation evaluation</a></h1>

<p class=MsoNormal>Here we show an example for calculating the 24 metrics of segmentation
images. One truth mask and 10 segmentation images need to be evaluated. In the
same folder of the MATLAB code, the file name of truth mask is “<i>TruthMask.png</i>”,
and the file name of the<i> i</i>-th segmentation image is “<i>Segmentation_i.png</i>”.</p>

<h2><a name="_Toc172809477">Implement by GUI</a></h2>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Open
Metrics Computation window (click the “Computing Segmentation Metrics” on the
main options window).</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Click
the “Segmentation contourS” in the “User Input (Many)” panel to select 10
segmentation images.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Click
the “Reference contourS” in the “User Input (Many)” panel to select the truth
mask.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Click
the “Advanced ...”-&gt; “Save the list” buttons to create the comparing list at
“/MISS-tool/Saved/compare_files_list.csv”. The directories of loaded image
files are on the list; Column#1 for directories of segmentation images and Column#2
for the directory of truth mask.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Open
and edit the list file“compare_files_list.csv”. Copy the directory of truth mask
and paste it on other rows of Column#2 whose accordingly Column#1 contain directories
of segmentation images. Finally, for all rows, both Column#1 and Column#2 must contain
directories or be empty (the two columns in comparing list must be paired).
Save and close the list file.</p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td valign=top style='border:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpMiddle style='margin:0in;line-height:normal'>…/<i>Segmentation_1.png</i></p>
  </td>
  <td valign=top style='border:solid windowtext 1.0pt;border-left:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpLast style='margin:0in;line-height:normal'>…/<i>TruthMask.png</i></p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:solid windowtext 1.0pt;border-top:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpFirst style='margin:0in;line-height:normal'>…/<i>Segmentation_2.png</i></p>
  </td>
  <td valign=top style='border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;
  border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpLast style='margin:0in;line-height:normal'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:solid windowtext 1.0pt;border-top:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpFirst style='margin:0in;line-height:normal'>⁞</p>
  </td>
  <td valign=top style='border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;
  border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpLast style='margin:0in;line-height:normal'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:solid windowtext 1.0pt;border-top:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpFirst style='margin:0in;line-height:normal'>…/<i>Segmentation_9.png</i></p>
  </td>
  <td valign=top style='border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;
  border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpLast style='margin:0in;line-height:normal'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:solid windowtext 1.0pt;border-top:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpFirst style='margin:0in;line-height:normal'>…/<i>Segmentation_10.png</i></p>
  </td>
  <td valign=top style='border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;
  border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpLast style='margin:0in;line-height:normal'>&nbsp;</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoListParagraphCxSpFirst align=center style='text-align:center'><b>↓
After editing</b></p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td valign=top style='border:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpMiddle style='margin:0in;line-height:normal'>…/<i>Segmentation_1.png</i></p>
  </td>
  <td valign=top style='border:solid windowtext 1.0pt;border-left:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpLast style='margin:0in;line-height:normal'>…/<i>TruthMask.png</i></p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:solid windowtext 1.0pt;border-top:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpFirst style='margin:0in;line-height:normal'>…/<i>Segmentation_2.png</i></p>
  </td>
  <td valign=top style='border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;
  border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpLast style='margin:0in;line-height:normal'>…/<i>TruthMask.png</i></p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:solid windowtext 1.0pt;border-top:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpFirst style='margin:0in;line-height:normal'>⁞</p>
  </td>
  <td valign=top style='border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;
  border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpLast style='margin:0in;line-height:normal'>⁞</p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:solid windowtext 1.0pt;border-top:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpFirst style='margin:0in;line-height:normal'>…/<i>Segmentation_9.png</i></p>
  </td>
  <td valign=top style='border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;
  border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpLast style='margin:0in;line-height:normal'>…/<i>TruthMask.png</i></p>
  </td>
 </tr>
 <tr>
  <td valign=top style='border:solid windowtext 1.0pt;border-top:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpFirst style='margin:0in;line-height:normal'>…/<i>Segmentation_10.png</i></p>
  </td>
  <td valign=top style='border-top:none;border-left:none;border-bottom:solid windowtext 1.0pt;
  border-right:solid windowtext 1.0pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpLast style='margin:0in;line-height:normal'>…/<i>TruthMask.png</i></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoListParagraphCxSpFirst>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Click
the “Advanced ...”-&gt; “To compare” buttons to start computing the 24 metrics
values for each pair of segmentations and reference masks on the list, and the
results will be saved in: “/MISS-tool/Saved/Metrics_Result.csv”.</p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpLast>&nbsp;</p>

<h2><a name="_Toc172809478">Implement by Command (Code)</a></h2>

<p class=MsoNormal>The MATLAB code:</p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=623 valign=top style='width:467.5pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;font-family:
  Consolas;color:#538135'>truth_img = imread(<a name="_Hlk155628076">TruthMask.png</a>);</span></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;font-family:
  Consolas;color:#538135'>M={};</span></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;font-family:
  Consolas;color:#538135'>for i= 1: 10    </span></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;font-family:
  Consolas;color:#538135'>    seg_i = imread(['Segmentation_',</span><span
  style='font-size:9.0pt'> </span><span style='font-size:9.0pt;font-family:
  Consolas;color:#538135'>num2str(i), '.png']);    </span></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;font-family:
  Consolas;color:#538135'>    M{i} = </span><a
  href="#_Function_for_segmentation"><b><span style='font-size:9.0pt;
  font-family:Consolas'>seg_measures</span></b></a><span style='font-size:9.0pt;
  font-family:Consolas;color:#538135'>(truth_img, seg_i, true);</span></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;font-family:
  Consolas;color:#538135'>end</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:6.0pt'>The result <span style='font-family:
Consolas;color:#0070C0'>M{}</span><span style='color:#0070C0'> </span>is a cell
includes 10 struct data. For example, <span style='font-family:Consolas;
color:#0070C0'>M{6}.DICE</span><span style='color:#0070C0'> </span>is the Dice
Coefficient of “<i>TruthMask.png”</i> and “<i>Segmentation_6.png”</i>.</p>

<h1><a name="_Toc172809479">An example of segmentation synthesis</a></h1>

<p class=MsoNormal>Here we show an example to <a name="_Hlk172724148">generate 100
synthetic segmentation images </a>(changing contour by <a name="_Hlk155628552">Fourier
Descriptor</a>) from a truth mask. In the same folder of the MATLAB code, the
file name of truth mask is “<i>TruthMask.png</i>”.</p>

<h2><a name="_Toc172809480">Implement by GUI</a></h2>

<p class=MsoNormal><img border=0 width=623 height=384 id="Picture 35"
src="Medical%20Image%20Segmentation%20Synthesis%20(MISS)%20Tool%20User%20Guide_files/image041.jpg"></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Open
Synthesis of Contour window (click the “Synthesis of Segmentation Contours” on
the main options window).</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Click
the “Load Truth Mask” button to load the truth mask “TruthMask.png”.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Click
“Fourier” button to open the Fourier Descriptor window.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>In
the Fourier Descriptor window, set parameters like <i>detail = 5</i>, <i>range
= 3</i>, and <i>magnitude = 10</i>. Then, click “Apply to original” button to see
its modified result.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Since
to generate more than one synthetic segmentation image, we use the Batch
Processing function. Click the “Batch Processing” button in the main
“Segmentation Viewer” window to open the Batch Processing window.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Click
“Add params to Batch Processing” on the Fourier Descriptor window, you will see
the three parameters are added into the Modifications list on the Batch
Processing window. <span style='color:red'>Note: on the Batch Processing
window, the parameters: Detail and Range for Fourier Descriptor (FD), will be
presented and saved in percentage (%) forms. </span><a href="#_Parameters">Here</a><span
style='color:red'> for more details.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Make
100 copies of the truth mask and save them in a folder, like “TruthMask_copy1.png”,
“TruthMask_copy2.png”, …, “TruthMask_copy100.png”.</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Click
the “Apply to User Input (many)” button, then select the 100 copies of the
truth mask. Operations on the Modifications list will be applied in their
orders to the selected masks by users. The modified (synthetic) mask will be
saved in PNG files under folder: “…/MISS-tool/Saved/Batch_saved/”, by adding
“_syn” in their file names. Like “TruthMask_copy1_syn.png”, “TruthMask_copy2_syn.png”,
…, “TruthMask_copy100_syn.png”.</p>

<h2><a name="_Toc172809481">Implement by Command (Code)</a></h2>

<p class=MsoNormal>The MATLAB code:</p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=623 valign=top style='width:467.5pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;font-family:
  Consolas;color:#538135'>truth_img = imread('TruthMask.png');</span></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;font-family:
  Consolas;color:#7F7F7F'>% modify the mask by Fourier Descriptor; it contains
  randomness</span></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.5in;line-height:normal'><a name="_Hlk172724321"><span
  style='font-size:9.0pt;font-family:Consolas;color:#538135'>detail  = 5; </span></a><span
  style='font-size:9.0pt;font-family:Consolas;color:#7F7F7F'>% &lt; total
  pixels</span></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;font-family:
  Consolas;color:#538135'>range = 3; </span><span style='font-size:9.0pt;
  font-family:Consolas;color:#7F7F7F'>% &lt;= detail</span></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;font-family:
  Consolas;color:#538135'>magnitude = 10; </span><span style='font-size:9.0pt;
  font-family:Consolas;color:#7F7F7F'>% &gt;=0</span></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;font-family:
  Consolas;color:#538135'>Syn_masks= cell(100,1);</span></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;font-family:
  Consolas;color:#538135'>for k = 1:100</span></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.5in;text-indent:.5in;line-height:normal'><span style='font-size:
  9.0pt;font-family:Consolas;color:#538135'>Syn_masks{k} = </span><a
  href="#_Change_contour_by_1"><b><span style='font-size:9.0pt;font-family:
  Consolas'>mod_fourier</span></b></a><span style='font-size:9.0pt;font-family:
  Consolas;color:#538135'>(truth_img, detail, range, magnitude, false);</span></p>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.5in;line-height:normal'><span style='font-size:9.0pt;font-family:
  Consolas;color:#538135'>end</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:6.0pt'>The result <span style='font-family:
Consolas;color:#0070C0'>Syn_masks{}</span><span style='color:#0070C0'> </span>is
a cell includes 100 segmentation images. For example, <span style='font-family:
Consolas;color:#0070C0'>Syn_masks{i}</span><span style='color:#0070C0'> </span>is
the <i>i</i>-th (synthetic) segmentation image.</p>

</div>

</body>

</html>
